# üöÄ AI –ü–µ—Ä–µ–≤–æ–¥—á–∏–∫ —Ç–µ–∫—Å—Ç–æ–≤ –Ω–∞ DeepSeek V3

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ú–æ—â–Ω—ã–π AI-–ø–µ—Ä–µ–≤–æ–¥—á–∏–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ —Ç–µ–∫—Å—Ç–∞–º–∏ (100k+ —Å–∏–º–≤–æ–ª–æ–≤) —á–µ—Ä–µ–∑ DeepSeek V3 —á–µ—Ä–µ–∑ OpenRouter API.

### ‚ú® –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚ö° **–ë—ã—Å—Ç—Ä–æ–µ —á–∞–Ω–∫–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî —É–º–Ω–∞—è —Ä–∞–∑–±–∏–≤–∫–∞ –Ω–∞ —á–∞–Ω–∫–∏ –ø–æ 3500 —Å–∏–º–≤–æ–ª–æ–≤
- ü§ñ **DeepSeek V3** ‚Äî –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ —á–µ—Ä–µ–∑ OpenRouter
- üîÑ **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** ‚Äî –¥–æ 5 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- üìù **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã** ‚Äî —É—á–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤, —Å–ø–∏—Å–∫–æ–≤
- üéØ **Overlap –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏** ‚Äî 1 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ overlap –º–µ–∂–¥—É —á–∞–Ω–∫–∞–º–∏
- üìä **–ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** ‚Äî –≤—Ä–µ–º—è, —Ç–æ–∫–µ–Ω—ã, —á–∞–Ω–∫–∏

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Upload text
    ‚Üì
Preprocess (clean, normalize)
    ‚Üì
Smart Chunker (fast, sentence-aware)
    ‚Üì
Parallel Translation (OpenRouter ‚Üí DeepSeek V3)
    ‚Üì
Postprocess (glue, format)
    ‚Üì
Result
```

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
lib/translator/
  ‚îú‚îÄ‚îÄ chunker.ts          # –£–º–Ω–æ–µ —á–∞–Ω–∫–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
  ‚îú‚îÄ‚îÄ openrouter.ts       # –ö–ª–∏–µ–Ω—Ç OpenRouter API
  ‚îî‚îÄ‚îÄ types.ts            # TypeScript —Ç–∏–ø—ã

app/api/translator/
  ‚îî‚îÄ‚îÄ route.ts            # API endpoint

app/translator/
  ‚îú‚îÄ‚îÄ page.tsx            # UI —Å—Ç—Ä–∞–Ω–∏—Ü–∞
  ‚îî‚îÄ‚îÄ layout.tsx          # Metadata
```

---

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á

–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [OpenRouter](https://openrouter.ai/keys) –∏ –ø–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á.

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env

```bash
cp .env.example .env.local
```

–î–æ–±–∞–≤—å—Ç–µ –≤–∞—à –∫–ª—é—á –≤ `.env.local`:

```env
OPENROUTER_API_KEY=sk-or-v1-your-key-here
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

```bash
npm run dev
```

–ü–µ—Ä–µ–≤–æ–¥—á–∏–∫ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:3000/translator`

---

## üéØ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

```typescript
MAX_CHARS_PER_CHUNK = 3500     // –û–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è DeepSeek V3
OVERLAP_SENTENCES = 1          // –î–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
MAX_PARALLEL_REQUESTS = 5      // –ë–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è OpenRouter
```

---

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

### Endpoint

```
POST /api/translator
```

### Request Body

```json
{
  "text": "Your text to translate",
  "fromLang": "English",      // optional, default: "English"
  "toLang": "Russian",         // optional, default: "Russian"
  "maxParallel": 5             // optional, default: 5
}
```

### Response

```json
{
  "success": true,
  "result": "–ü–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç",
  "stats": {
    "originalLength": 5000,
    "translatedLength": 5200,
    "chunksCount": 2,
    "estimatedTokens": 1250,
    "processingTime": 3500
  }
}
```

---

## üß™ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ –∫–æ–¥

```typescript
const response = await fetch('/api/translator', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    text: 'Your long text here...',
    fromLang: 'English',
    toLang: 'Russian',
  }),
});

const data = await response.json();
console.log(data.result);
console.log(data.stats);
```

---

## ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–∞–Ω–∫–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–†–∞–∑–±–∏–≤–∫–∞ –Ω–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è** ‚Äî regex-–ø–∞—Ç—Ç–µ—Ä–Ω `(?<=[.!?])\s+`
2. **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –≤ —á–∞–Ω–∫–∏** ‚Äî –¥–æ 3500 —Å–∏–º–≤–æ–ª–æ–≤
3. **Overlap** ‚Äî –ø–æ—Å–ª–µ–¥–Ω–µ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–ª–µ–¥—É—é—â–∏–π —á–∞–Ω–∫
4. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥** ‚Äî –≤—Å–µ —á–∞–Ω–∫–∏ –ø–µ—Ä–µ–≤–æ–¥—è—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
5. **–°–∫–ª–µ–π–∫–∞** ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `\n\n`

---

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –†–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ | –ß–∞–Ω–∫–æ–≤ | –í—Ä–µ–º—è (avg) | –¢–æ–∫–µ–Ω—ã |
|---------------|--------|-------------|--------|
| 10k —Å–∏–º–≤–æ–ª–æ–≤  | 3      | ~2-3 —Å–µ–∫    | ~2500  |
| 50k —Å–∏–º–≤–æ–ª–æ–≤  | 15     | ~8-12 —Å–µ–∫   | ~12500 |
| 100k —Å–∏–º–≤–æ–ª–æ–≤ | 30     | ~15-25 —Å–µ–∫  | ~25000 |

*–ó–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ OpenRouter –∏ DeepSeek V3*

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å (OpenRouter)

DeepSeek V3 —á–µ—Ä–µ–∑ OpenRouter:
- Input: ~$0.14 / 1M tokens
- Output: ~$0.28 / 1M tokens

–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–ª—è 100k —Å–∏–º–≤–æ–ª–æ–≤ (~25k —Ç–æ–∫–µ–Ω–æ–≤):
- **$0.003 - $0.007** (–æ—á–µ–Ω—å –¥–µ—à–µ–≤–æ!)

---

## üêõ Troubleshooting

### –û—à–∏–±–∫–∞ "API –∫–ª—é—á –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω"

‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env.local` –µ—Å—Ç—å `OPENROUTER_API_KEY`

### –ú–µ–¥–ª–µ–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥

‚úÖ –£–≤–µ–ª–∏—á—å—Ç–µ `maxParallel` –¥–æ 8-10 (–Ω–æ —Å–ª–µ–¥–∏—Ç–µ –∑–∞ rate limits)

### –û—à–∏–±–∫–∞ 429 (Rate Limit)

‚úÖ –£–º–µ–Ω—å—à–∏—Ç–µ `maxParallel` –¥–æ 3-4

### –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥

‚úÖ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å `temperature` –≤ `openrouter.ts` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.2)

---

## üìö –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Next.js 15** ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **TypeScript** ‚Äî —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- **OpenRouter** ‚Äî API gateway
- **DeepSeek V3** ‚Äî –º–æ–¥–µ–ª—å –ø–µ—Ä–µ–≤–æ–¥–∞
- **Tailwind CSS** ‚Äî —Å—Ç–∏–ª–∏
- **Lucide React** ‚Äî –∏–∫–æ–Ω–∫–∏

---

## üé® UI Features

- ‚úÖ Real-time —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚úÖ –ü–æ–¥—Å—á–µ—Ç —Å–∏–º–≤–æ–ª–æ–≤ –∏ —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –í—ã–±–æ—Ä —è–∑—ã–∫–æ–≤—ã—Ö –ø–∞—Ä
- ‚úÖ –û–±–º–µ–Ω —è–∑—ã–∫–æ–≤ –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π
- ‚úÖ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- ‚úÖ Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ Responsive –¥–∏–∑–∞–π–Ω
- ‚úÖ Loading —Å–æ—Å—Ç–æ—è–Ω–∏—è

---

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ (.txt, .docx, .pdf)
- [ ] –ò—Å—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- [ ] –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- [ ] –í—ã–±–æ—Ä –¥—Ä—É–≥–∏—Ö –º–æ–¥–µ–ª–µ–π (GPT-4, Claude)
- [ ] –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
- [ ] Batch API –¥–ª—è –æ—á–µ—Ä–µ–¥–µ–π
- [ ] WebSocket –¥–ª—è real-time progress

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

---

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

**–ò–≥–æ—Ä—å –ë—É—Ä–¥—É–∫–æ–≤**
- Website: [igorburdukov.me](https://igorburdukov.me)
- Telegram: [@igorburdukov](https://t.me/igorburdukov)

---

## üôè Credits

–û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ:
- DeepSeek V3 via OpenRouter
- Smart chunking algorithm
- Parallel processing pattern

---

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ**
